var Other=function(){$("body");var s=$(".js-scroll-to-top"),t=function(){var t=$.masksSort($.masksLoad("/_js/plugins/inputmask/data/phone-codes.json"),["#"],/[0-9]| /,"mask");$(".js-phone, [name=phone], [name=PHONE]").inputmasks($.extend(!0,{},{inputmask:{definitions:{"#":{validator:"[0-9]|"}},showMaskOnHover:!0,autoUnmask:!1,clearMaskOnLostFocus:!1},match:/[0-9]/,replace:"#",listKey:"mask"},{list:t,onMaskChange:function(t,s,e){if(s){var n=t.name_ru,o=$(this).closest("form").find('[name="country"], [name="COUNTRY"]'),i=$("option:contains("+n+")").val();i&&$(o).val(i).trigger("refresh")}}})),$(".js-email, [name=email], [name=EMAIL]").inputmask({regex:"[a-zA-Z0-9._%-]{0,32}[a-zA-Z0-9-]{0,8}(.[a-zA-Z]{0,6})?.[a-zA-Z]{2,4}",placeholder:""}),$("select, .js-styler").styler()};return{init:function(){$(document).on("change",".js-country",function(){var t=$(this).val();if(!t)return!1;var e=$("#region");SendAjax("GET_REGIONS",{countryId:t},function(t){var s=t;e.children().remove(),s.length?(e.append('<option value="">Выберите регион</option>'),$.each(s,function(t,s){e.append('<option value="'+s.ID+'">'+s.NAME+"</option>")})):e.append('<option value="">Выберите регион</option>'),e.removeClass("hide").trigger("refresh")})}),function(){function t(){$(window).scrollTop()?s.fadeIn():s.fadeOut()}$(document).on("click",".js-scroll-to-top",function(){$("html, body").animate({scrollTop:0},1e3)}),t(),$(window).scroll(t)}(),t(),$("body").on("click","[data-user-type]",function(){var t=$(this).data("user-type");t&&($(this).closest(".js-user-type-wrap").find('[name="UF_USER_TYPE"]').val($(this).data("user-type")),2==t?$("#reg-entity input").addClass("req"):$("#reg-entity input").removeClass("req"))}),$("body").on("change",'input[name="type-comp"]',function(){$(this).closest(".js-company-type-wrap").find('[name="UF_COMPANY_TYPE"]').val($(this).val()),4==$(this).val()?($('#reg-entity input[NAME="UF_KPP"]').addClass("req").val(""),$(".js-register-kpp").fadeIn(200)):($('#reg-entity input[NAME="UF_KPP"]').removeClass("req"),$(".js-register-kpp").fadeOut(200))}),$(".order-tabs__icon").tooltip({template:'<div class="tooltip order-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),$(".modal").on("show.bs.modal",function(){$(this).find(".js-m-product-slider").length&&setTimeout(function(){$(".js-m-product-slider").slick({infinite:!1,dots:!0,arrows:!1,autoplay:!1,slidesToShow:1,slidesToScroll:1,customPaging:function(t,s){return'<div class="product-slider__dot" style="background-image: url('+$(t.$slides[s]).data("thumb")+');"></div>'}})},300),$(this).find(".js-product-slider.is-active").length&&setTimeout(function(){$(".js-product-slider.is-active").slick({infinite:!1,dots:!0,arrows:!1,autoplay:!1,slidesToShow:1,refresh:!0,slidesToScroll:1,customPaging:function(t,s){return'<div class="product-slider__dot" style="background-image: url('+$(t.$slides[s]).data("thumb")+');"></div>'}})},300)}).on("shown.bs.modal",function(){t(),$("select, .js-styler").trigger("refresh")}),$(".js-partners-tabs a").on("show.bs.tab",function(t){var s=$(t.target).closest("li").position();$(".js-partners-selector").css({left:s.left+"px"})}),$(".search__input").focusin(function(){$(this).closest(".search").find(".search__suggest").fadeIn()}),$(".search__input").focusout(function(){$(this).closest(".search").find(".search__suggest").fadeOut()})},plugins:t}}();